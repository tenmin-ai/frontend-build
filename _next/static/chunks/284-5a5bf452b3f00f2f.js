"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{5355:function(e,t,r){let n;r.d(t,{a:function(){return Q}});var i=r(6298),s=r(9948),o=r(4939),a=r(9010),l=r(2459),u=class extends a.l{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#n=void 0;#i=void 0;#s;#o;#t;#a;#l;#u;#c;#h;#d;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),c(this.#r,this.options)?this.#p():this.updateResult(),this.#m())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#v(),this.#r.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,i.Nc)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#g(),this.#r.setOptions(this.options),r._defaulted&&!(0,i.VS)(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let s=this.hasListeners();s&&d(this.#r,n,this.options,r)&&this.#p(),this.updateResult(t),s&&(this.#r!==n||(0,i.Nc)(this.options.enabled,this.#r)!==(0,i.Nc)(r.enabled,this.#r)||(0,i.KC)(this.options.staleTime,this.#r)!==(0,i.KC)(r.staleTime,this.#r))&&this.#b();let o=this.#w();s&&(this.#r!==n||(0,i.Nc)(this.options.enabled,this.#r)!==(0,i.Nc)(r.enabled,this.#r)||o!==this.#d)&&this.#E(o)}getOptimisticResult(e){let t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return(0,i.VS)(this.getCurrentResult(),r)||(this.#i=r,this.#o=this.options,this.#s=this.#r.state),r}getCurrentResult(){return this.#i}trackResult(e,t){let r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#p(e){this.#g();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(i.ZT)),t}#b(){this.#y();let e=(0,i.KC)(this.options.staleTime,this.#r);if(i.sk||this.#i.isStale||!(0,i.PN)(e))return;let t=(0,i.Kp)(this.#i.dataUpdatedAt,e);this.#c=setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#E(e){this.#v(),this.#d=e,!i.sk&&!1!==(0,i.Nc)(this.options.enabled,this.#r)&&(0,i.PN)(this.#d)&&0!==this.#d&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||o.j.isFocused())&&this.#p()},this.#d))}#m(){this.#b(),this.#E(this.#w())}#y(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#v(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r;let n=this.#r,s=this.options,o=this.#i,a=this.#s,u=this.#o,h=e!==n?e.state:this.#n,{state:p}=e,m={...p},y=!1;if(t._optimisticResults){let r=this.hasListeners(),i=!r&&c(e,t),o=r&&d(e,n,t,s);(i||o)&&(m={...m,...(0,l.z)(p.data,e.options)}),"isRestoring"===t._optimisticResults&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=m;if(t.select&&void 0!==m.data){if(o&&m.data===a?.data&&t.select===this.#a)r=this.#l;else try{this.#a=t.select,r=t.select(m.data),r=(0,i.oE)(o?.data,r,t),this.#l=r,this.#t=null}catch(e){this.#t=e}}else r=m.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===b){let e;if(o?.isPlaceholderData&&t.placeholderData===u?.placeholderData)e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(b="success",r=(0,i.oE)(o?.data,e,t),y=!0)}this.#t&&(v=this.#t,r=this.#l,g=Date.now(),b="error");let w="fetching"===m.fetchStatus,E="pending"===b,R="error"===b,x=E&&w,C=void 0!==r;return{status:b,fetchStatus:m.fetchStatus,isPending:E,isSuccess:"success"===b,isError:R,isInitialLoading:x,isLoading:x,data:r,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:w,isRefetching:w&&!E,isLoadingError:R&&!C,isPaused:"paused"===m.fetchStatus,isPlaceholderData:y,isRefetchError:R&&C,isStale:f(e,t),refetch:this.refetch}}updateResult(e){let t=this.#i,r=this.createResult(this.#r,this.options);if(this.#s=this.#r.state,this.#o=this.options,void 0!==this.#s.data&&(this.#u=this.#r),(0,i.VS)(r,t))return;this.#i=r;let n={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#f.size)return!0;let n=new Set(r??this.#f);return this.options.throwOnError&&n.add("error"),Object.keys(this.#i).some(e=>this.#i[e]!==t[e]&&n.has(e))})()&&(n.listeners=!0),this.#R({...n,...e})}#g(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#m()}#R(e){s.V.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,i.Nc)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)||void 0!==e.state.data&&h(e,t,t.refetchOnMount)}function h(e,t,r){if(!1!==(0,i.Nc)(t.enabled,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&f(e,t)}return!1}function d(e,t,r,n){return(e!==t||!1===(0,i.Nc)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,i.Nc)(t.enabled,e)&&e.isStaleByTime((0,i.KC)(t.staleTime,e))}var p=r(2265);r(7437);var m=p.createContext((n=!1,{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n})),y=()=>p.useContext(m),v=r(3191),g=p.createContext(!1),b=()=>p.useContext(g);g.Provider;var w=(e,t)=>{(e.suspense||e.throwOnError)&&!t.isReset()&&(e.retryOnMount=!1)},E=e=>{p.useEffect(()=>{e.clearReset()},[e])},R=e=>{var t;let{result:r,errorResetBoundary:n,throwOnError:i,query:s}=e;return r.isError&&!n.isReset()&&!r.isFetching&&s&&(t=[r.error,s],"function"==typeof i?i(...t):!!i)},x=e=>{e.suspense&&("number"!=typeof e.staleTime&&(e.staleTime=1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))},C=(e,t)=>e?.suspense&&t.isPending,S=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Q(e,t){return function(e,t,r){var n,i,o,a;let l=(0,v.NL)(r),u=b(),c=y(),h=l.defaultQueryOptions(e);null===(i=l.getDefaultOptions().queries)||void 0===i||null===(n=i._experimental_beforeQuery)||void 0===n||n.call(i,h),h._optimisticResults=u?"isRestoring":"optimistic",x(h),w(h,c),E(c);let[d]=p.useState(()=>new t(l,h)),f=d.getOptimisticResult(h);if(p.useSyncExternalStore(p.useCallback(e=>{let t=u?()=>void 0:d.subscribe(s.V.batchCalls(e));return d.updateResult(),t},[d,u]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),p.useEffect(()=>{d.setOptions(h,{listeners:!1})},[h,d]),C(h,f))throw S(h,d,c);if(R({result:f,errorResetBoundary:c,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash)}))throw f.error;return null===(a=l.getDefaultOptions().queries)||void 0===a||null===(o=a._experimental_afterQuery)||void 0===o||o.call(a,h,f),h.notifyOnChangeProps?f:d.trackResult(f)}(e,u,t)}},2793:function(e,t,r){r.d(t,{y:function(){return eL}});var n,i,s=r(2265),o=r(4887),a=r(804),l=r(9791),u=r(458);function c(e){let t=(0,u.h)(()=>(0,a.BX)(e)),{isStatic:r}=(0,s.useContext)(l._);if(r){let[,r]=(0,s.useState)(e);(0,s.useEffect)(()=>t.on("change",r),[])}return t}var h=r(3629),d=r(1016),f=r(2548);let p=e=>e&&"object"==typeof e&&e.mix,m=e=>p(e)?e.mix:void 0;var y=r(9033),v=r(6219);function g(e,t){let r=c(t()),n=()=>r.set(t());return n(),(0,y.L)(()=>{let t=()=>v.Wi.preRender(n,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),(0,v.Pn)(n)}}),r}function b(e,t,r,n){if("function"==typeof e)return function(e){a.S1.current=[],e();let t=g(a.S1.current,e);return a.S1.current=void 0,t}(e);let i="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],o=e[3+r],a=(0,f.s)(i,s,{mixer:m(s[0]),...o});return t?a(n):a}(t,r,n);return Array.isArray(e)?w(e,i):w([e],([e])=>i(e))}function w(e,t){let r=(0,u.h)(()=>[]);return g(e,()=>{r.length=0;let n=e.length;for(let t=0;t<n;t++)r[t]=e[t].get();return t(r)})}var E=r(9047);function R(e,t,r){var n;if("string"==typeof e){let i=document;t&&((0,E.k)(!!t.current,"Scope provided, but no element detected."),i=t.current),r?(null!==(n=r[e])&&void 0!==n||(r[e]=i.querySelectorAll(e)),e=r[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}var x=r(4839),C=r(5658),S=r(8688),Q=r(8170),T=r(2714),O=r(8432),k=r(9334),I=r(9470),D=r(9653),M=r(557),N=r(2007),A=r(9924),P=r(3217),L=r(8322);function F(e,t,r,n){var i;return"number"==typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?r:null!==(i=n.get(t))&&void 0!==i?i:e}let W=(e,t,r)=>{let n=t-e;return((r-e)%n+n)%n+e};var H=r(9379),$=r(8746),U=r(5004);function q(e,t){return e.at!==t.at?e.at-t.at:null===e.value?1:null===t.value?-1:0}function _(e,t){return t.has(e)||t.set(e,{}),t.get(e)}function B(e,t){return t[e]||(t[e]=[]),t[e]}let Y=e=>"number"==typeof e,j=e=>e.every(Y);function z(e,t,r,n){let i=R(e,n),s=i.length;(0,E.k)(!!s,"No valid element provided.");let o=[];for(let e=0;e<s;e++){let n=i[e];x.R.has(n)||function(e){let t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=(0,Q.v)(e)?new T.e(t):new O.W(t);r.mount(e),x.R.set(e,r)}(n);let a=x.R.get(n),l={...r};"function"==typeof l.delay&&(l.delay=l.delay(e,s)),o.push(...(0,S.w)(a,{...t,transition:l},{}))}return new C.s(o)}let V=e=>Array.isArray(e)&&Array.isArray(e[0]),X=function(e,t,r){let i;return i=V(e)?function(e,t,r){let n=[];return(function(e,{defaultTransition:t={},...r}={},n){let i=t.duration||.3,s=new Map,o=new Map,a={},l=new Map,u=0,c=0,h=0;for(let r=0;r<e.length;r++){let s=e[r];if("string"==typeof s){l.set(s,c);continue}if(!Array.isArray(s)){l.set(s.name,F(c,s.at,u,l));continue}let[d,f,p={}]=s;void 0!==p.at&&(c=F(c,p.at,u,l));let m=0,y=(e,r,n,s=0,o=0)=>{let a=Array.isArray(e)?e:[e],{delay:l=0,times:u=(0,N.Y)(a),type:d="keyframes",...f}=r,{ease:p=t.ease||"easeOut",duration:y}=r,v="function"==typeof l?l(s,o):l,g=a.length;if(g<=2&&"spring"===d){let e=100;2===g&&j(a)&&(e=Math.abs(a[1]-a[0]));let t={...f};void 0!==y&&(t.duration=(0,M.w)(y));let r=function(e,t=100){let r=(0,I.S)({keyframes:[0,t],...e}),n=Math.min((0,D.i)(r),D.E);return{type:"keyframes",ease:e=>r.next(n*e).value/t,duration:(0,M.X)(n)}}(t,e);p=r.ease,y=r.duration}null!=y||(y=i);let b=c+v,w=b+y;1===u.length&&0===u[0]&&(u[1]=1);let E=u.length-a.length;E>0&&(0,A.c)(u,E),1===a.length&&a.unshift(null),function(e,t,r,n,i,s){!function(e,t,r){for(let n=0;n<e.length;n++){let i=e[n];i.at>t&&i.at<r&&((0,$.cl)(e,i),n--)}}(e,i,s);for(let a=0;a<t.length;a++){var o;e.push({value:t[a],at:(0,U.t)(i,s,n[a]),easing:(o=a,(0,H.N)(r)?r[W(0,r.length,o)]:r)})}}(n,a,p,u,b,w),m=Math.max(v+y,m),h=Math.max(w,h)};if((0,L.i)(d))y(f,p,B("default",_(d,o)));else{let e=R(d,n,a),t=e.length;for(let r=0;r<t;r++){let n=_(e[r],o);for(let e in f)y(f[e],p[e]?{...p,...p[e]}:{...p},B(e,n),r,t)}}u=c,c+=m}return o.forEach((e,n)=>{for(let i in e){let o=e[i];o.sort(q);let a=[],l=[],u=[];for(let e=0;e<o.length;e++){let{at:t,value:r,easing:n}=o[e];a.push(r),l.push((0,P.Y)(0,h,t)),u.push(n||"easeOut")}0!==l[0]&&(l.unshift(0),a.unshift(a[0]),u.unshift("easeInOut")),1!==l[l.length-1]&&(l.push(1),a.push(null)),s.has(n)||s.set(n,{keyframes:{},transition:{}});let c=s.get(n);c.keyframes[i]=a,c.transition[i]={...t,duration:h,ease:u,times:l,...r}}}),s})(e,t,r).forEach(({keyframes:e,transition:t},r)=>{let i;i=(0,L.i)(r)?(0,k.D)(r,e.default,t.default):z(r,e,t),n.push(i)}),new C.s(n)}(e,t,void 0):"object"!=typeof t||Array.isArray(t)?(0,k.D)(e,t,r):z(e,t,r,n),n&&n.animations.push(i),i};var K=r(2351),G=r(5127);let Z="undefined"!=typeof document?s.useLayoutEffect:()=>{};function J(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function ee(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function et(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function er(e,t){let r=e;for(et(r,t)&&(r=r.parentElement);r&&!et(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}var en="calc(100% - env(safe-area-inset-top) - 34px)",ei="undefined"==typeof window,es={ease:"easeOut",duration:.2},eo={ease:"linear",duration:.01};function ea(e,t){let r=e[0],n=Math.abs(e[0]-t);for(let i=1;i<e.length;i++){let s=Math.abs(e[i]-t);s<n&&(r=e[i],n=s)}return r}function el(e){let t=document.querySelector("body"),r=document.getElementById(e);r&&(r.style.removeProperty("border-top-right-radius"),r.style.removeProperty("border-top-left-radius"),r.style.removeProperty("transform"),r.addEventListener("transitionend",function e(){r.style.removeProperty("overflow"),r.style.removeProperty("will-change"),r.style.removeProperty("transition"),t.style.removeProperty("background-color"),r.removeEventListener("transitionend",e)}))}function eu({snapTo:e,sheetHeight:t}){return e<0&&console.warn(`Snap point is out of bounds. Sheet height is ${t} but snap point is ${t+Math.abs(e)}.`),Math.max(Math.round(e),0)}function ec(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})}}var eh=ei?s.useEffect:s.useLayoutEffect;function ed(e){let t=(0,s.useRef)();return(0,s.useEffect)(()=>{t.current=e}),t.current}function ef(e){let t=(0,s.useRef)();return eh(()=>{t.current=e}),(0,s.useCallback)((...e)=>{let r=t.current;return null==r?void 0:r(...e)},[])}var ep={bottom:0,top:0,left:0,right:0};function em(){return{constraintsRef:(0,s.useRef)(null),onMeasureDragConstraints:(0,s.useCallback)(()=>ep,[])}}var ey=(0,s.createContext)(void 0),ev=()=>{let e=(0,s.useContext)(ey);if(!e)throw Error("Sheet context error");return e},eg=(0,s.createContext)(void 0);function eb({children:e}){let t=ev(),[r,n]=(0,s.useState)(!!t.disableDrag);return s.createElement(eg.Provider,{value:{disableDrag:r,setDragEnabled:function(){t.disableDrag||n(!1)},setDragDisabled:function(){r||n(!0)}}},e)}var ew=()=>{let e=(0,s.useContext)(eg);if(!e)throw Error("Sheet scroller context error");return e},eE="undefined"!=typeof window?window.visualViewport:void 0,eR=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),ex=0;function eC(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function eS(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function eQ(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=er(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,n=e.getBoundingClientRect().top;n>r+e.clientHeight&&(t.scrollTop+=n-r)}e=t.parentElement}}function eT(e){return e instanceof HTMLInputElement&&!eR.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var eO={wrapper:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},backdrop:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",touchAction:"none",border:"none"},container:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",pointerEvents:"auto"},headerWrapper:{width:"100%"},header:{height:"40px",width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},indicator:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"},content:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:"0px",position:"relative"},scroller:{height:"100%",overflowY:"auto"}},ek=(0,s.forwardRef)(({onOpenStart:e,onOpenEnd:t,onClose:r,onCloseStart:n,onCloseEnd:a,onSnap:l,children:u,disableScrollLocking:f=!1,isOpen:p,snapPoints:m,rootId:y,mountPoint:v,style:g,detent:w="full-height",initialSnap:E=0,disableDrag:R=!1,prefersReducedMotion:x=!1,tweenConfig:C=es,...S},Q)=>{let T=(0,s.useRef)(null),O=c(0),{height:k}=function(){let[e,t]=(0,s.useState)({height:0,width:0});return eh(()=>{function e(){t({height:window.innerHeight,width:window.innerWidth})}return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),I=function(){d.O.current||(0,h.A)();let[e]=(0,s.useState)(d.n.current);return e}(),D=!!(x||I),M={type:"tween",...D?eo:C},N=c(0),A=b(N,e=>e+2>=k?-1:9999999),P=b(N,e=>e+2>=k?"hidden":"visible"),L=(0,s.useRef)({onOpenStart:e,onOpenEnd:t,onCloseStart:n,onCloseEnd:a});eh(()=>{L.current={onOpenStart:e,onOpenEnd:t,onCloseStart:n,onCloseEnd:a}}),m&&console.assert(function(e){for(let t=0;t<e.length;t++)if(e[t+1]>e[t])return!1;return!0}(m=m.map(e=>e>0&&e<=1?Math.round(e*k):e<0?k+e:e))||0===k,`Snap points need to be in descending order got: [${m.join(", ")}]`);let F=ef((e,{delta:t})=>{let r=N.getVelocity();r>0&&O.set(10),r<0&&O.set(-10),N.set(Math.max(N.get()+t.y,0))}),W=ef(()=>{let e=document.activeElement;e&&T.current&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName)&&T.current.contains(e)&&e.blur()}),H=ef((e,{velocity:t})=>{if(t.y>500)r();else{let e=T.current.getBoundingClientRect().height,t=N.get(),n=0;if(m){let r=m.map(t=>e-Math.min(t,e));"content-height"!==w||r.includes(0)||r.unshift(0),n=ea(r,t)}else t/e>.6&&(n=e);if(X(N,n=eu({snapTo:n,sheetHeight:e}),M),m&&l){let e=Math.abs(Math.round(m[0]-n));l(m.indexOf(ea(m,e)))}n+2>=Math.round(e)&&r()}O.set(0)});(0,s.useEffect)(()=>{m&&l&&l(p?E:m.length-1)},[p]),(0,s.useImperativeHandle)(Q,()=>({y:N,snapTo:e=>{let t=T.current;if((null==m?void 0:m[e])!==void 0&&t){let n=t.getBoundingClientRect().height,i=eu({snapTo:n-m[e],sheetHeight:n});X(N,i,M),l&&l(e),i>=n&&r()}}})),function(e,t){let r=ed(e);(0,s.useEffect)(()=>{t&&!r&&e?function(e){let t=document.querySelector("body"),r=document.querySelector(`#${e}`);if(r){let e=window.innerHeight;t.style.backgroundColor="#000",r.style.overflow="hidden",r.style.willChange="transform",r.style.transition="transform 200ms ease-in-out, border-radius 200ms linear",r.style.transform=`translateY(calc(env(safe-area-inset-top) + 12px)) scale(${(e-24)/e})`,r.style.borderTopRightRadius="10px",r.style.borderTopLeftRadius="10px"}}(t):t&&!e&&r&&el(t)},[e,r]),(0,s.useEffect)(()=>()=>{t&&e&&el(t)},[e])}(p,y),function(e={}){let{isDisabled:t}=e;Z(()=>{if(!t)return 1==++ex&&(J(/^iPhone/i)||J(/^iPad/i)||J(/^Mac/i)&&navigator.maxTouchPoints>1?i=function(){let e;let t=0,r=window.pageXOffset,n=window.pageYOffset,i=ee(eC(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),eC(document.documentElement,"overflow","hidden"),eC(document.body,"marginTop",`-${n}px`));window.scrollTo(0,0);let s=ee(eS(document,"touchstart",r=>{((e=er(r.target))!==document.documentElement||e!==document.body)&&(t=r.changedTouches[0].pageY)},{passive:!1,capture:!0}),eS(document,"touchmove",r=>{if(void 0===e)return;if(e===document.documentElement||e===document.body){r.preventDefault();return}let n=r.changedTouches[0].pageY,i=e.scrollTop,s=e.scrollHeight-e.clientHeight;0!==s&&((i<=0&&n>t||i>=s&&n<t)&&r.preventDefault(),t=n)},{passive:!1,capture:!0}),eS(document,"touchend",e=>{let t=e.target;eT(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),eS(document,"focus",e=>{let t=e.target;eT(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",eE&&(eE.height<window.innerHeight?requestAnimationFrame(()=>{eQ(t)}):eE.addEventListener("resize",()=>{eQ(t)},{once:!0}))}))},!0),eS(window,"scroll",()=>{window.scrollTo(0,0)}));return()=>{i(),s(),window.scrollTo(r,n)}}():i=ee(eC(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),eC(document.documentElement,"overflow","hidden"))),()=>{0==--ex&&i()}},[t])}({isDisabled:f||!p});let $=(0,s.useMemo)(()=>R?void 0:{drag:"y",dragElastic:0,dragMomentum:!1,dragPropagation:!1,onDrag:F,onDragStart:W,onDragEnd:H},[R,k]),U={y:N,sheetRef:T,isOpen:p,initialSnap:E,snapPoints:m,detent:w,indicatorRotation:O,callbacks:L,dragProps:$,windowHeight:k,animationOptions:M,reduceMotion:D,disableDrag:R},q=s.createElement(ey.Provider,{value:U},s.createElement(K.E.div,{...S,ref:Q,style:{...eO.wrapper,zIndex:A,visibility:P,...g}},s.createElement(G.M,null,p?s.createElement(eb,null,s.Children.map(u,(e,t)=>(0,s.cloneElement)(e,{key:`sheet-child-${t}`}))):null)));return ei?q:(0,o.createPortal)(q,v??document.body)});ek.displayName="Sheet";var eI=(0,s.forwardRef)(({children:e,style:t={},className:r="",...n},i)=>{let{y:o,isOpen:a,callbacks:l,snapPoints:u,initialSnap:c=0,sheetRef:h,windowHeight:d,detent:f,animationOptions:p,reduceMotion:m}=ev(),{handleAnimationComplete:y}=function(e,t){let r=ed(e),n=(0,s.useRef)(!1),i=(0,s.useCallback)(()=>{var e,r,i,s;n.current?(null==(s=(i=t.current).onCloseEnd)||s.call(i),n.current=!1):(null==(r=(e=t.current).onOpenEnd)||r.call(e),n.current=!0)},[e,r]);return(0,s.useEffect)(()=>{var n,i,s,o;!r&&e?null==(i=(n=t.current).onOpenStart)||i.call(n):!e&&r&&(null==(o=(s=t.current).onCloseStart)||o.call(s))},[e,r]),{handleAnimationComplete:i}}(a,l),v=u?u[0]-u[c]:0,g=u?u[0]:null,b=null!==g?`min(${g}px, ${en})`:en;return s.createElement(K.E.div,{...n,ref:ec([h,i]),className:`react-modal-sheet-container ${r}`,style:{...eO.container,...t,..."full-height"===f&&{height:b},..."content-height"===f&&{maxHeight:b},y:o},initial:!m&&{y:d},animate:{y:v,transition:p},exit:{y:d,transition:p},onAnimationComplete:y},e)});eI.displayName="SheetContainer";var eD=(0,s.forwardRef)(({children:e,style:t,disableDrag:r,className:n="",...i},o)=>{let a=ev(),l=ew(),{constraintsRef:u,onMeasureDragConstraints:c}=em(),h=r||l.disableDrag?void 0:a.dragProps;return s.createElement(K.E.div,{...i,ref:ec([o,u]),className:`react-modal-sheet-content ${n}`,style:{...eO.content,...t},...h,dragConstraints:u,onMeasureDragConstraints:c},e)});eD.displayName="SheetContent";var eM=(0,s.forwardRef)(({children:e,style:t,disableDrag:r,...n},i)=>{let{indicatorRotation:o,dragProps:a}=ev(),{constraintsRef:l,onMeasureDragConstraints:u}=em(),c=b(o,e=>`translateX(2px) rotate(${e}deg)`),h=b(o,e=>`translateX(-2px) rotate(${-1*e}deg)`);return s.createElement(K.E.div,{...n,ref:ec([i,l]),style:{...eO.headerWrapper,...t},...r?void 0:a,dragConstraints:l,onMeasureDragConstraints:u},e||s.createElement("div",{className:"react-modal-sheet-header",style:eO.header},s.createElement(K.E.span,{className:"react-modal-sheet-drag-indicator",style:{...eO.indicator,transform:c}}),s.createElement(K.E.span,{className:"react-modal-sheet-drag-indicator",style:{...eO.indicator,transform:h}})))});eM.displayName="SheetHeader";var eN=e=>!!e.onClick||!!e.onTap,eA=(0,s.forwardRef)(({style:e={},className:t="",...r},n)=>{let i=eN(r)?K.E.button:K.E.div,o=eN(r)?"auto":"none";return s.createElement(i,{...r,ref:n,className:`react-modal-sheet-backdrop ${t}`,style:{...eO.backdrop,...e,pointerEvents:o},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})});eA.displayName="SheetBackdrop";var eP=(0,s.forwardRef)(({draggableAt:e="top",children:t,style:r,className:n="",...i},o)=>{let a=ew();function l(t){let{scrollTop:r,scrollHeight:n,clientHeight:i}=t;if(!(n>i))return;let s=r<=0,o=n-r===i;"top"===e&&s||"bottom"===e&&o||"both"===e&&(s||o)?a.setDragEnabled():a.setDragDisabled()}let u="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)?{onScroll:function(e){l(e.currentTarget)},onTouchStart:function(e){l(e.currentTarget)}}:void 0;return s.createElement("div",{...i,ref:o,className:`react-modal-sheet-scroller ${n}`,style:{...eO.scroller,...r},...u},t)});eP.displayName="SheetScroller",ek.Container=eI,ek.Header=eM,ek.Content=eD,ek.Backdrop=eA,ek.Scroller=eP;var eL=ek}}]);