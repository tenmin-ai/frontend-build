(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3958:function(e,t,s){Promise.resolve().then(s.bind(s,8692))},1980:function(e,t,s){"use strict";s.d(t,{BackendProvider:function(){return x},h:function(){return m}});var l=s(7437),n=s(2265),a=s(3061),r=s(2702),i=s(8699),c=s(3191);r.Lp.setConfig({baseUrl:"https://backend-us.tenmin.ai"}),r.Lp.interceptors.request.use((e,t)=>{let s=localStorage.getItem("token");return console.log("Intercepter: "+s),s&&e.headers.set("Authorization","Bearer "+JSON.parse(s)),e});let o=new i.S,d=(0,n.createContext)(void 0),x=e=>{let{children:t}=e;return(0,a.useIsClient)()?(0,l.jsx)(d.Provider,{value:{authedClient:r.Lp,saveToken:e=>{localStorage.setItem("token",JSON.stringify(e))}},children:(0,l.jsx)(c.aH,{client:o,children:t})}):(0,l.jsx)("main",{className:"bg-[#0039FF] h-screen w-screen flex justify-center items-center",children:(0,l.jsx)("img",{src:"tenmin_new_logo_white.svg",alt:"",className:"w-10"})})},m=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},8692:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var l=s(7437),n=s(2265),a=s(6920),r=s(5079),i=s(6463),c=s(1980),o=s(2793),d=s(6662),x=s(5355),m=s(9006),u=s(2702);let h=(e,t,s)=>{var l;let n={_id:e,baseUrl:(null!==(l=null==t?void 0:t.client)&&void 0!==l?l:u.Lp).getConfig().baseUrl};return s&&(n._infinite=s),(null==t?void 0:t.body)&&(n.body=t.body),(null==t?void 0:t.headers)&&(n.headers=t.headers),(null==t?void 0:t.path)&&(n.path=t.path),(null==t?void 0:t.query)&&(n.query=t.query),n},b=e=>[h("tutoringGetAll",e)],f=e=>(0,m.C)({queryFn:async t=>{let{queryKey:s}=t,{data:l}=await (0,u.zW)({...e,...s[0],throwOnError:!0});return l},queryKey:b(e)}),j={en:"\uD83C\uDDEC\uD83C\uDDE7 English",de:"\uD83C\uDDE9\uD83C\uDDEA German",es:"\uD83C\uDDEA\uD83C\uDDF8 Spanish"};function p(){let[e,t]=(0,n.useState)("Speak"),[s,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)("en"),[b,p]=(0,n.useState)(""),g=(0,i.useRouter)();(0,c.h)();let{data:N,isLoading:v}=(0,x.a)({...f({query:{language:u}})}),F=(e,t)=>{(0,d.oY)({path:{service:"ws"},query:{tutoring_id:e,lesson_id:t}}).then(e=>{e.data&&g.push("/debug?session_id=".concat(e.data.session_id))}).catch(e=>{console.error(e)})};return(0,l.jsxs)("main",{className:"flex flex-col bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pt-14 pb-4 px-7 justify-between tracking-[-0.02em]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("button",{className:"flex items-center",onClick:()=>m(!0),children:[(0,l.jsx)("div",{className:"text-black font-bold text-2xl mr-2",children:j[u]}),(0,l.jsx)("div",{className:"text-sm",children:"▼"})]}),(0,l.jsxs)(o.y,{isOpen:s,onClose:()=>m(!1),detent:"content-height",tweenConfig:{ease:"easeInOut",duration:.3},children:[(0,l.jsxs)(o.y.Container,{children:[(0,l.jsx)(o.y.Header,{style:{background:"#F6F8FF"}}),(0,l.jsx)(o.y.Content,{style:{backgroundImage:"linear-gradient(to bottom, #F6F8FF, #F7F8FD)"},children:(0,l.jsxs)("div",{className:"p-8 pb-16 text-black",children:[(0,l.jsx)("p",{className:"font-bold text-2xl mb-7",children:"What would you like to learn?"}),(0,l.jsx)("div",{className:"flex flex-col",children:Object.entries(j).map(e=>{let[t,s]=e;return(0,l.jsx)("button",{className:"text-lg border-[1px] border-black/10 p-4 rounded-lg mb-4 bg-white",onClick:()=>{h(t),m(!1)},children:s},t)})})]})})]}),(0,l.jsx)(o.y.Backdrop,{onTap:()=>{m(!1)}})]})]}),v&&(0,l.jsx)("p",{children:"Loading..."}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto mt-8 scrollbar-hide pb-20",children:N&&Object.entries(N).map(e=>{var t;let[s,n]=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg py-7 px-7 mb-8 border-[1px] border-black/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-black/50 text-xs",children:"Today"}),(0,l.jsxs)("p",{className:"text-[1.375rem] leading-7 font-bold text-black mt-2",children:[j[u]," with ",(0,l.jsx)("br",{})," ",n.tutor.name]}),(0,l.jsx)("div",{className:"text-black/50 text-[0.938rem] mt-2",children:"Meet your new tutor!"})]}),(0,l.jsx)("img",{src:n.tutor.profile_picture_url,alt:n.tutor.name,className:"w-20 h-20 rounded-full"})]}),(0,l.jsxs)("div",{className:"flex gap-3 mt-5",children:[(0,l.jsx)("button",{className:"text-white bg-[#0039FF] py-3 w-full rounded-lg flex items-center justify-center",onClick:()=>{console.log(n.available_lessons),n.available_lessons&&F(s,n.available_lessons[0].id)},children:(0,l.jsx)("p",{className:"text-base font-bold",children:"Start next lesson"})}),n.available_lessons&&n.available_lessons.length>1&&(0,l.jsx)("button",{className:"bg-black bg-opacity-[0.12] py-2 px-4 rounded-lg",children:(0,l.jsx)(a.G,{icon:r.X7o,className:"text-lg mt-1"})})]})]},s),(0,l.jsx)("div",{className:"mb-4 font-bold",children:"Next lessons"}),(null===(t=n.available_lessons)||void 0===t?void 0:t.length)==1?(0,l.jsxs)("div",{className:"bg-[#0039FF]/10 rounded-lg py-6 px-6 mb-8 border-[1px] border-[#0039FF]/15 text-normal text-[#0039FF]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-1 font-bold ",children:[(0,l.jsx)("img",{className:"mr-3",src:"/tenmin_new_logo.svg",alt:"Tenmin Logo"}),"Welcome back!"]}),(0,l.jsx)("div",{children:"Get started by calling your tutor to generate your lesson plan!"})]},"asdfasdf"):(0,l.jsx)("div",{children:n.available_lessons.map((e,t)=>(0,l.jsxs)("button",{className:"bg-white rounded-lg py-6 px-6 border-[1px] border-[#DADADA] w-full mb-3",onClick:()=>{p(b===e.id?"":e.id)},children:[(0,l.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("p",{className:"text-black font-bold text-base text-left",children:0===t?"Vocab \uD83D\uDCDA":1===t?"Debate \uD83C\uDF54":2===t?"Speaking \uD83C\uDF99️":"Lesson"}),(0,l.jsx)("div",{className:"overflow-hidden transition-max-height duration-300 ease-in-out mt-0.5 ".concat(b===e.id?"max-h-16":"max-h-5"),children:(0,l.jsx)("p",{className:"text-black/50 text-left text-[0.938rem]",children:e.info.title})})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("p",{className:"text-black font-bold text-base",children:"\xa0"}),(0,l.jsx)("p",{className:"text-black/50 text-left text-[0.938rem] line-clamp-1",children:"\xa0"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("div",{className:"bg-black/50 w-6 h-[1px] rounded-full"}),(0,l.jsx)("div",{className:"bg-black/50 w-6 h-[1px] rounded-full"})]})]})]}),(0,l.jsx)("div",{className:"overflow-hidden transition-all duration-700 ease-in-out ".concat(b===e.id?"max-h-96":"max-h-0"),children:(0,l.jsxs)("div",{className:"w-full text-left mt-2",children:[(0,l.jsx)("p",{className:"text-[0.938rem] text-[#0039FF]/50",children:"Time: 10min"}),(0,l.jsx)("p",{className:"text-[0.938rem] text-[#0039FF]/50",children:"Learning goal: TBD"}),(0,l.jsx)("button",{className:"text-[#0039FF] text-base bg-[#0039FF]/5 border-[1px] border-[#0039FF] py-3 w-full rounded-lg flex items-center justify-center mt-3 font-semibold",children:"Start this lesson"}),(0,l.jsx)("button",{className:"text-black text-base bg-white border-[1px] border-[#DADADA] py-3 w-full rounded-lg flex items-center justify-center mt-3 font-semibold",onClick:()=>{},children:"Skip"})]})})]},t))}),(0,l.jsx)("div",{className:"w-full border-t-[1px] border-[#DADADA] my-14"})]})})}),(0,l.jsxs)("div",{className:"flex justify-around items-center bg-white backdrop-blur-xl shadow-md pt-3 fixed bottom-0 left-0 right-0 text-md pb-10 z-50 border-t-[1px] border-black/10",children:[(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Lessons"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Lessons"),children:[(0,l.jsx)(a.G,{icon:r.FL8,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Lessons"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Chat"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Chat"),children:[(0,l.jsx)(a.G,{icon:r.lXL,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Chat"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Challenges"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Challenges"),children:[(0,l.jsx)(a.G,{icon:r.kWN,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Challenges"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Profile"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Profile"),children:[(0,l.jsx)(a.G,{icon:r.ILF,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Profile"})]})]})]})}}},function(e){e.O(0,[676,61,168,475,542,560,662,971,23,744],function(){return e(e.s=3958)}),_N_E=e.O()}]);