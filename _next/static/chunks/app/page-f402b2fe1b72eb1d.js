(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3958:function(e,s,t){Promise.resolve().then(t.bind(t,6774))},1980:function(e,s,t){"use strict";t.d(s,{AuthProvider:function(){return o},E:function(){return d}});var l=t(7437),n=t(2265),r=t(6463),i=t(750),c=t(3061);let a=(0,n.createContext)(void 0),o=e=>{let{children:s}=e,t=(0,c.useIsClient)(),[o,d]=(0,n.useState)([]),x="https://backend-us.tenmin.ai";(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch(x+"/tutors"),s=await e.json();d(s.map(e=>({...e.tutor,lessons:e.lessons})))}catch(e){console.error("Error fetching data:",e)}})()},[x]);let[m,h]=(0,i._)("token","",{initializeWithValue:!1}),u=(0,r.useRouter)();return((0,n.useEffect)(()=>{m||u.push("/login")},[m,u]),t)?(0,l.jsx)(a.Provider,{value:{token:m,saveToken:h,backend_url:"wss://backend-us.tenmin.ai/ws",tutors:o},children:s}):(0,l.jsx)("div",{children:"Loading.."})},d=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},6774:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var l=t(7437),n=t(2265),r=t(6920),i=t(5079),c=t(6463),a=t(1980);function o(){let[e,s]=(0,n.useState)("Speak"),t=(0,c.useRouter)(),o="https://backend-us.tenmin.ai",{token:d,backend_url:x,tutors:m}=(0,a.E)(),h=e=>{t.push("/callPage?id="+e)};return(0,l.jsxs)("main",{className:"flex flex-col bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pt-14 pb-4 px-8 justify-between tracking-[-0.02em]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"font-bold text-2xl mr-2",children:"English"}),(0,l.jsx)("div",{className:"text-sm",children:"â–¼"})]}),(0,l.jsx)("div",{className:"font-semibold bg-[#63C7B2]/20 text-[#63C7B2] rounded-full py-1 px-4 border-2 border-[#63C7B2] text-lg",children:"10:00"})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto mt-8 scrollbar-hide pb-20",children:m.map((e,s)=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl py-8 px-6 mb-8 border-[1px] border-[#0039FF]/15",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("img",{src:e.profile_picture_url,alt:e.name,className:"w-20 h-20 rounded-full mr-7"}),(0,l.jsxs)("h3",{className:"text-xl font-semibold text-black",children:[e.name,(0,l.jsx)("p",{className:"text-sm  text-center text-[#0039FF] font-normal rounded-md bg-[#CCD7FF] px-3 py-1 mt-2 ",children:"AI-powered"})]})]}),(0,l.jsx)("p",{className:"text-[1.09rem] leading-tight text-black mt-4 mb-4",children:e.description}),1===e.lessons.length?(0,l.jsxs)("button",{className:"text-white bg-[#0039FF] py-3 w-full text-sm rounded-full flex items-center justify-center",onClick:()=>{console.log(e.lessons),h(e.lessons[0].id)},children:[(0,l.jsx)(r.G,{icon:i.j1w,className:"mr-2"}),(0,l.jsx)("p",{className:"text-[1.09rem] font-semibold",children:"Call tutor"})]}):(0,l.jsx)("button",{className:"text-[#0039FF] bg-white border-[1px] border-[#0039FF] py-3 w-full text-sm rounded-full flex items-center justify-center font-medium text-[1.09rem]",onClick:async()=>{console.log("backend",o,d),await fetch(o+"/reset/"+e._id,{method:"POST",headers:{Authorization:"Bearer ".concat(d)}})},children:"Reset"})]},s),1===e.lessons.length?(0,l.jsxs)("div",{className:"bg-[#0039FF]/10 rounded-2xl py-6 px-6 mb-8 border-[1px] border-[#0039FF]/15 text-[1.09rem] text-[#0039FF]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-1 font-bold ",children:[(0,l.jsx)("img",{className:"mr-3",src:"/tenmin_new_logo.svg",alt:"Tenmin Logo"}),"Welcome, User"]}),(0,l.jsx)("div",{children:"Get started by calling your tutor to generate your lesson plan!"})]},"asdfasdf"):(0,l.jsx)("div",{children:e.lessons.map((s,t)=>(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex flex-col items-center mx-2 text-[#000000]/30 w-8 col-start-1 row-start-1",children:0===t?(0,l.jsxs)("div",{className:"text-[#0039FF]",children:[(0,l.jsx)("p",{className:"text-xs",children:"DAY"}),(0,l.jsx)("p",{className:"text-xl font-semibold",children:(t+1).toString().padStart(2,"0")})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs",children:"DAY"}),(0,l.jsx)("p",{className:"text-xl font-semibold",children:(t+1).toString().padStart(2,"0")})]})}),(0,l.jsx)("div",{className:"grid h-0",children:t+1!==e.lessons.length?(0,l.jsx)("div",{className:"h-20 border-l-[2px] border-[#DADADA] relative z-10 col-start-1 row-start-1 mx-6 mt-2"}):(0,l.jsx)("div",{})})]}),(0,l.jsxs)("button",{className:"flex flex-col bg-white rounded-2xl py-6 px-8 border-[1px] border-[#DADADA] w-full text-[1.09rem] items-start",onClick:()=>h(s.id),children:[(0,l.jsxs)("p",{className:"",children:["Lesson ",t+1]}),(0,l.jsx)("p",{className:"font-bold text-left line-clamp-2",children:s.title})]},t)]}))}),(0,l.jsx)("div",{className:"w-full border-t-[1px] border-[#DADADA] my-14"})]}))}),(0,l.jsxs)("div",{className:"flex justify-around items-center bg-white shadow-md pt-3 fixed bottom-0 left-0 right-0 text-md pb-10 z-50",children:[(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Speak"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>s("Speak"),children:[(0,l.jsx)(r.G,{icon:i.lXL,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Speak"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Topics"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>s("Topics"),children:[(0,l.jsx)(r.G,{icon:i.FL8,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Topics"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Challenges"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>s("Challenges"),children:[(0,l.jsx)(r.G,{icon:i.kWN,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Challenges"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Profile"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>s("Profile"),children:[(0,l.jsx)(r.G,{icon:i.ILF,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Profile"})]})]})]})}}},function(e){e.O(0,[676,772,61,920,971,23,744],function(){return e(e.s=3958)}),_N_E=e.O()}]);