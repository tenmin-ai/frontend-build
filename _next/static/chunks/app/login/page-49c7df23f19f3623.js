(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6542:function(e,t,n){Promise.resolve().then(n.bind(n,5207))},1980:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return l},E:function(){return u}});var a=n(7437),s=n(2265),r=n(6463),o=n(750),i=n(3061);let c=(0,s.createContext)(void 0),l=e=>{let{children:t}=e,n=(0,i.useIsClient)(),[l,u]=(0,s.useState)([]),[h,d]=(0,s.useState)(null),f="https://backend-us.tenmin.ai";(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch(f+"/tutors"),t=await e.json();u(t.map(e=>({...e.tutor,lessons:e.lessons})))}catch(e){console.error("Error fetching data:",e)}})()},[f]);let[m,p]=(0,o._)("token","",{initializeWithValue:!1}),x=(0,r.useRouter)(),g=async e=>{try{let t=await fetch(f+"/user",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();console.log(n),d(JSON.parse(n))}catch(e){console.error("Error fetching data:",e)}};return((0,s.useEffect)(()=>{m||x.push("/login"),g(m)},[m,x]),n)?(0,a.jsx)(c.Provider,{value:{token:m,saveToken:p,backend_url:"wss://backend-us.tenmin.ai/ws",tutors:l,user:h,fetchUserData:g},children:t}):(0,a.jsx)("main",{className:"bg-[#0039FF] h-screen w-screen flex justify-center items-center",children:(0,a.jsx)("img",{src:"tenmin_new_logo_white.svg",alt:"",className:"w-10"})})},u=()=>{let e=(0,s.useContext)(c);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},5207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(7437),s=n(750),r=n(6463),o=n(2265),i=n(1980);function c(){let[e,t]=(0,o.useState)(""),[n,c]=(0,o.useState)(""),{fetchUserData:l}=(0,i.E)(),u=(0,r.useRouter)(),[h,d]=(0,s._)("token","",{initializeWithValue:!1});(0,o.useEffect)(()=>{h&&fetch("".concat(f,"/validate"),{headers:{Authorization:"Bearer ".concat(h)}}).then(e=>{e.ok&&u.push("/")})},[h]);let f="https://backend-us.tenmin.ai",m=async()=>{let t=await fetch("".concat(f,"/login"),{method:"POST",body:JSON.stringify({username:e,password:n}),headers:{"Content-Type":"application/json"}});if(t.ok){let{token:e}=await t.json();d(e),await l(e),u.push("/")}};return(0,a.jsx)("main",{className:"bg-[#F6F8FF] h-screen py-16 flex justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 m-3 px-5 max-w-md",children:[(0,a.jsx)("h1",{className:"font-bold text-2xl text-black",children:"Login"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Login to your account to continue learning with Tenmin."}),(0,a.jsx)("input",{type:"text",placeholder:"Username",className:"text-black border-gray-300 border-2 p-3 rounded-lg",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:n,className:"text-black border-gray-300 border-2 p-3 rounded-lg",onChange:e=>c(e.target.value)}),(0,a.jsx)("button",{className:"bg-[#0039FF] rounded-full py-2 text-white font-semibold mt-2",onClick:m,children:"Login"})]})})}}},function(e){e.O(0,[404,971,23,744],function(){return e(e.s=6542)}),_N_E=e.O()}]);