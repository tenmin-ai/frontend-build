(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3958:function(e,t,s){Promise.resolve().then(s.bind(s,8692))},1980:function(e,t,s){"use strict";s.d(t,{BackendProvider:function(){return x},h:function(){return D}});var l=s(7437),n=s(2265),a=s(3061),i=s(2702),r=s(8699),c=s(3191),u=s(6463);i.Lp.setConfig({baseUrl:"https://backend-us.tenmin.ai"}),i.Lp.interceptors.request.use((e,t)=>{let s=localStorage.getItem("token");return console.log("Intercepter: "+s),s&&e.headers.set("Authorization","Bearer "+JSON.parse(s)),e});let o=new r.S,d=(0,n.createContext)(void 0),x=e=>{let{children:t}=e,s=(0,a.useIsClient)(),r=(0,u.useRouter)(),[x,D]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(s){let e=localStorage.getItem("token");D(e),e||r.push("/onboarding")}},[s,r]),s)?(0,l.jsx)(d.Provider,{value:{authedClient:i.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{localStorage.setItem("token",JSON.stringify(e)),D(e)}},children:(0,l.jsx)(c.aH,{client:o,children:t})}):(0,l.jsx)("main",{className:"bg-[#0039FF] h-screen w-screen flex justify-center items-center",children:(0,l.jsx)("img",{src:"tenmin_new_logo_white.svg",alt:"",className:"w-10"})})},D=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},8692:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var l=s(7437),n=s(2265),a=s(6920),i=s(5079),r=s(6463),c=s(1980),u=s(2793),o=s(6662),d=s(5355),x=s(9006),D=s(2702);let m=(e,t,s)=>{var l;let n={_id:e,baseUrl:(null!==(l=null==t?void 0:t.client)&&void 0!==l?l:D.Lp).getConfig().baseUrl};return s&&(n._infinite=s),(null==t?void 0:t.body)&&(n.body=t.body),(null==t?void 0:t.headers)&&(n.headers=t.headers),(null==t?void 0:t.path)&&(n.path=t.path),(null==t?void 0:t.query)&&(n.query=t.query),n},h=e=>[m("tutoringGetAll",e)],b=e=>(0,x.C)({queryFn:async t=>{let{queryKey:s}=t,{data:l}=await (0,D.zW)({...e,...s[0],throwOnError:!0});return l},queryKey:h(e)}),f={"Basic verbs":"\uD83C\uDFC3\uD83C\uDFFB‍♀️","Your name":"\uD83D\uDC4B\uD83C\uDFFB","Grocery shopping":"\uD83C\uDF4D","Order coffee":"☕","I want to ...":"\uD83D\uDE4B\uD83C\uDFFB‍♀️",Countries:"\uD83C\uDF0D"},F={en:"\uD83C\uDDEC\uD83C\uDDE7 English",de:"\uD83C\uDDE9\uD83C\uDDEA German",es:"\uD83C\uDDEA\uD83C\uDDF8 Spanish",ko:"\uD83C\uDDF0\uD83C\uDDF7 Korean",fr:"\uD83C\uDDEB\uD83C\uDDF7 French",ja:"\uD83C\uDDEF\uD83C\uDDF5 Japanese",zh:"\uD83C\uDDE8\uD83C\uDDF3 Chinese",hi:"\uD83C\uDDEE\uD83C\uDDF3 Hindi",pt:"\uD83C\uDDF5\uD83C\uDDF9 Portuguese",it:"\uD83C\uDDEE\uD83C\uDDF9 Italian",id:"\uD83C\uDDEE\uD83C\uDDE9 Indonesian",nl:"\uD83C\uDDF3\uD83C\uDDF1 Dutch",tr:"\uD83C\uDDF9\uD83C\uDDF7 Turkish",pl:"\uD83C\uDDF5\uD83C\uDDF1 Polish",sv:"\uD83C\uDDF8\uD83C\uDDEA Swedish",bg:"\uD83C\uDDE7\uD83C\uDDEC Bulgarian",ro:"\uD83C\uDDF7\uD83C\uDDF4 Romanian",ar:"\uD83C\uDDF8\uD83C\uDDE6 Arabic",cs:"\uD83C\uDDE8\uD83C\uDDFF Czech",el:"\uD83C\uDDEC\uD83C\uDDF7 Greek",fi:"\uD83C\uDDEB\uD83C\uDDEE Finnish",hu:"\uD83C\uDDED\uD83C\uDDFA Hungarian",no:"\uD83C\uDDF3\uD83C\uDDF4 Norwegian",vi:"\uD83C\uDDFB\uD83C\uDDF3 Vietnamese",sk:"\uD83C\uDDF8\uD83C\uDDF0 Slovak",ru:"\uD83C\uDDF7\uD83C\uDDFA Russian",uk:"\uD83C\uDDFA\uD83C\uDDE6 Ukrainian",ms:"\uD83C\uDDF2\uD83C\uDDFE Malay",da:"\uD83C\uDDE9\uD83C\uDDF0 Danish"};function j(){let[e,t]=(0,n.useState)("Speak"),[s,x]=(0,n.useState)(!1),[D,m]=(0,n.useState)("en"),[h,j]=(0,n.useState)(""),C=(0,r.useRouter)();(0,c.h)();let{data:g,isLoading:p}=(0,d.a)({...b({query:{language:D}})}),N=(e,t)=>{(0,o.oY)({path:{service:"ws"},query:{tutoring_id:e,lesson_id:t}}).then(e=>{e.data&&C.push("/call?session_id=".concat(e.data.session_id))}).catch(e=>{console.error(e)})};return(0,l.jsxs)("main",{className:"flex flex-col bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pt-14 pb-4 px-7 justify-between tracking-[-0.02em]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("button",{className:"flex items-center",onClick:()=>x(!0),children:(0,l.jsx)("div",{className:"text-black font-bold text-3xl mr-2",children:F[D].split(" ")[0]})}),(0,l.jsxs)(u.y,{isOpen:s,onClose:()=>x(!1),detent:"content-height",tweenConfig:{ease:"easeInOut",duration:.3},children:[(0,l.jsxs)(u.y.Container,{children:[(0,l.jsx)(u.y.Header,{style:{background:"#F6F8FF"}}),(0,l.jsx)(u.y.Content,{style:{backgroundImage:"linear-gradient(to bottom, #F6F8FF, #F7F8FD)"},children:(0,l.jsxs)("div",{className:"p-8 pb-16 text-black",children:[(0,l.jsx)("p",{className:"font-bold text-2xl mb-7",children:"What would you like to learn?"}),(0,l.jsx)("div",{className:"flex flex-col",children:Object.entries(F).map(e=>{let[t,s]=e;return(0,l.jsx)("button",{className:"text-lg border-[1px] border-black/10 p-4 rounded-lg mb-4 bg-white",onClick:()=>{m(t),x(!1)},children:s},t)})})]})})]}),(0,l.jsx)(u.y.Backdrop,{onTap:()=>{x(!1)}})]}),(0,l.jsx)("div",{className:"flex items-center gap-5",children:(0,l.jsx)("div",{className:"flex items-center text-[#0039FF] bg-[#0039FF]/5 py-1 px-2 rounded-lg border-[#0039FF]/20 border-[1px] text-sm",children:"Give feedback"})})]}),p&&(0,l.jsx)("p",{children:"Loading..."}),(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto mt-8 scrollbar-hide pb-20",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg py-7 px-7 mb-8 border-[1px] border-black/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-black/50 text-sm",children:"New!"}),(0,l.jsx)("p",{className:"text-2xl leading-8 font-bold text-black mt-2",children:"Free talk with Mina"}),(0,l.jsx)("div",{className:"text-black/50 text-[0.938rem] mt-2",children:"Talk about anything"})]}),(0,l.jsx)("img",{src:"mina.png",className:"w-24 h-24 ml-10 rounded-full"})]}),(0,l.jsx)("button",{className:"text-white bg-[#0039FF] mt-6 py-3 w-full rounded-lg flex items-center justify-center",onClick:()=>{},children:(0,l.jsx)("p",{className:"text-lg font-bold",children:"Start"})})]}),(0,l.jsx)("div",{className:"font-bold",children:"Scenarios"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:Object.entries(f).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg py-4 px-4 h-36 flex flex-col justify-between  border-[1px] border-black/10 text-base",children:[(0,l.jsx)("div",{className:"font-medium",children:t}),(0,l.jsx)("div",{className:"w-full text-right text-6xl",children:s})]},t)})})]}),(0,l.jsx)("div",{className:"",children:g&&Object.entries(g).map(e=>{var t;let[s,n]=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg py-7 px-7 mb-8 border-[1px] border-black/10",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-black/50 text-xs",children:"Today"}),(0,l.jsxs)("p",{className:"text-[1.375rem] leading-7 font-bold text-black mt-2",children:[F[D]," with ",(0,l.jsx)("br",{})," ",n.tutor.name]}),(0,l.jsx)("div",{className:"text-black/50 text-[0.938rem] mt-2",children:"Meet your new tutor!"})]}),(0,l.jsx)("img",{src:n.tutor.profile_picture_url,alt:n.tutor.name,className:"w-20 h-20 rounded-full"})]}),(0,l.jsxs)("div",{className:"flex gap-3 mt-5",children:[(0,l.jsx)("button",{className:"text-white bg-[#0039FF] py-3 w-full rounded-lg flex items-center justify-center",onClick:()=>{console.log(n.available_lessons),n.available_lessons&&N(s,n.available_lessons[0].id)},children:(0,l.jsx)("p",{className:"text-base font-bold",children:"Start next lesson"})}),n.available_lessons&&n.available_lessons.length>1&&(0,l.jsx)("button",{className:"bg-black bg-opacity-[0.12] py-2 px-4 rounded-lg",children:(0,l.jsx)(a.G,{icon:i.X7o,className:"text-lg mt-1"})})]})]},s),(0,l.jsx)("div",{className:"mb-4 font-bold",children:"Next lessons"}),(null===(t=n.available_lessons)||void 0===t?void 0:t.length)==1?(0,l.jsxs)("div",{className:"bg-[#0039FF]/10 rounded-lg py-6 px-6 mb-8 border-[1px] border-[#0039FF]/15 text-normal text-[#0039FF]",children:[(0,l.jsxs)("div",{className:"flex items-center mb-1 font-bold ",children:[(0,l.jsx)("img",{className:"mr-3",src:"/tenmin_new_logo.svg",alt:"Tenmin Logo"}),"Welcome back!"]}),(0,l.jsx)("div",{children:"Get started by calling your tutor to generate your lesson plan!"})]},"asdfasdf"):(0,l.jsx)("div",{children:n.available_lessons.map((e,t)=>(0,l.jsxs)("button",{className:"bg-white rounded-lg py-6 px-6 border-[1px] border-[#DADADA] w-full mb-3",onClick:()=>{j(h===e.id?"":e.id)},children:[(0,l.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("p",{className:"text-black font-bold text-base text-left",children:0===t?"Vocab \uD83D\uDCDA":1===t?"Debate \uD83C\uDF54":2===t?"Speaking \uD83C\uDF99️":"Lesson"}),(0,l.jsx)("div",{className:"overflow-hidden transition-max-height duration-300 ease-in-out mt-0.5 ".concat(h===e.id?"max-h-16":"max-h-5"),children:(0,l.jsx)("p",{className:"text-black/50 text-left text-[0.938rem]",children:e.info.title})})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("p",{className:"text-black font-bold text-base",children:"\xa0"}),(0,l.jsx)("p",{className:"text-black/50 text-left text-[0.938rem] line-clamp-1",children:"\xa0"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("div",{className:"bg-black/50 w-6 h-[1px] rounded-full"}),(0,l.jsx)("div",{className:"bg-black/50 w-6 h-[1px] rounded-full"})]})]})]}),(0,l.jsx)("div",{className:"overflow-hidden transition-all duration-700 ease-in-out ".concat(h===e.id?"max-h-96":"max-h-0"),children:(0,l.jsxs)("div",{className:"w-full text-left mt-2",children:[(0,l.jsx)("p",{className:"text-[0.938rem] text-[#0039FF]/50",children:"Time: 10min"}),(0,l.jsx)("p",{className:"text-[0.938rem] text-[#0039FF]/50",children:"Learning goal: TBD"}),(0,l.jsx)("button",{className:"text-[#0039FF] text-base bg-[#0039FF]/5 border-[1px] border-[#0039FF] py-3 w-full rounded-lg flex items-center justify-center mt-3 font-semibold",children:"Start this lesson"}),(0,l.jsx)("button",{className:"text-black text-base bg-white border-[1px] border-[#DADADA] py-3 w-full rounded-lg flex items-center justify-center mt-3 font-semibold",onClick:()=>{},children:"Skip"})]})})]},t))}),(0,l.jsx)("div",{className:"w-full border-t-[1px] border-[#DADADA] my-14"})]})})}),(0,l.jsxs)("div",{className:"flex justify-around items-center bg-white backdrop-blur-xl shadow-md pt-3 fixed bottom-0 left-0 right-0 text-md pb-10 z-50 border-t-[1px] border-black/10",children:[(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Lessons"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Lessons"),children:[(0,l.jsx)(a.G,{icon:i.FL8,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Lessons"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Chat"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Chat"),children:[(0,l.jsx)(a.G,{icon:i.lXL,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Chat"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Challenges"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Challenges"),children:[(0,l.jsx)(a.G,{icon:i.kWN,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Challenges"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Profile"===e?"text-[#0039FF]":" text-[#959595]"),onClick:()=>t("Profile"),children:[(0,l.jsx)(a.G,{icon:i.ILF,size:"lg"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Profile"})]})]})]})}}},function(e){e.O(0,[676,119,920,475,542,793,894,662,971,23,744],function(){return e(e.s=3958)}),_N_E=e.O()}]);